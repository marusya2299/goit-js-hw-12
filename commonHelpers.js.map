{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["'use strict';\n\nconst API_KEY = '43475453-62a6130baf5d53b90b99f069a';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function imagesSearch(input = \"\") {\n    const params = new URLSearchParams({\n        key: API_KEY,\n        q: input,\n        image_type: \"photo\",\n        orientation: \"hotizontal\",\n        safesearch: true\n    })\n    return fetch(`${BASE_URL}?${params.toString()}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Failed to fetch images');\n            }\n            return response.json();\n        })\n}","'use strict';\n\nexport function createGallery(images, gallery) {\n    const galleryHTML = images.map(image => `\n        <li class=\"gallery-item\">\n            <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\">\n                <div class=\"description\">\n                    <div class=\"field\">\n                        <span class=\"label\">Likes</span>\n                        <span class=\"value\" data-likes>${image.likes}</span>\n                    </div>\n                    <div class=\"field\">\n                        <span class=\"label\">Views</span>\n                        <span class=\"value\" data-views>${image.views}</span>\n                    </div>\n                    <div class=\"field\">\n                        <span class=\"label\">Comments</span>\n                        <span class=\"value\" data-comments>${image.comments}</span>\n                    </div>\n                    <div class=\"field\">\n                        <span class=\"label\">Downloads</span>\n                        <span class=\"value\" data-downloads>${image.downloads}</span>\n                    </div>\n                </div>\n            </a>\n        </li>\n    `).join('');\n\n    gallery.insertAdjacentHTML('beforeend', galleryHTML);\n    return gallery;\n}\n","'use strict';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { imagesSearch } from './js/pixabay-api.js';\nimport { createGallery } from './js/render-functions.js';\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".input\");\nconst gallery = document.querySelector(\".gallery\");\nconst lightbox = new SimpleLightbox('.gallery a',\n    {\n        captions: true,\n        captionDelay: 250,\n        captionPosition: 'bottom',\n        captionType: 'attr',\n        captionsData: 'alt'\n    });\n\nconst loader = document.querySelector(\".loader\");\n\n\nfunction formSubmit(event) {\n    event.preventDefault();\n    loader.style.display = 'flex';\n    loader.style.alignitems = 'center';\n    if (input.value.trim() === '') {\n        iziToast.warning({message: 'The name is incorrect. Please try again'});\n        return;\n    }\n\n    gallery.innerHTML = '';\n\n    imagesSearch(input.value.trim())\n        .then(data => {\n            if (data.totalHits === 0) {\n                iziToast.error({\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    messageColor: 'rgba(250, 250, 251, 1)',\n                    icon: 'myIcon',\n                    iconColor:'rgba(250, 250, 251, 1)',\n                    color: 'rgba(239, 64, 64, 1)',\n                    position: 'topRight',\n                    progressBarColor:'rgba(181, 27, 27, 1)'\n\n                });\n                loader.style.display = 'none';\n                return;\n            }\n\n            createGallery(data.hits, gallery);\n            lightbox.refresh();\n        })\n        .catch(() => iziToast.show({ message: 'Sorry, there are no images matching your search query. Please try again!'}))\n        .finally(() => {\n            form.reset();\n            loader.style.display = 'none';\n        });\n}\n\nform.addEventListener('submit', formSubmit);\n"],"names":["API_KEY","BASE_URL","imagesSearch","input","params","response","createGallery","images","gallery","galleryHTML","image","form","lightbox","SimpleLightbox","loader","formSubmit","event","iziToast","data"],"mappings":"6vBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAaC,EAAQ,GAAI,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CAC/B,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACD,OAAO,MAAM,GAAGF,CAAQ,IAAIG,EAAO,SAAU,CAAA,EAAE,EAC1C,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,wBAAwB,EAE5C,OAAOA,EAAS,MAC5B,CAAS,CACT,CClBO,SAASC,EAAcC,EAAQC,EAAS,CAC3C,MAAMC,EAAcF,EAAO,IAAIG,GAAS;AAAA;AAAA,uBAErBA,EAAM,aAAa;AAAA,4BACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,yDAITA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,yDAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,4DAIRA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,6DAIbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAKvE,EAAE,KAAK,EAAE,EAEV,OAAAF,EAAQ,mBAAmB,YAAaC,CAAW,EAC5CD,CACX,CCnBA,MAAMG,EAAO,SAAS,cAAc,OAAO,EACrCR,EAAQ,SAAS,cAAc,QAAQ,EACvCK,EAAU,SAAS,cAAc,UAAU,EAC3CI,EAAW,IAAIC,EAAe,aAChC,CACI,SAAU,GACV,aAAc,IACd,gBAAiB,SACjB,YAAa,OACb,aAAc,KACtB,CAAK,EAECC,EAAS,SAAS,cAAc,SAAS,EAG/C,SAASC,EAAWC,EAAO,CAIvB,GAHAA,EAAM,eAAc,EACpBF,EAAO,MAAM,QAAU,OACvBA,EAAO,MAAM,WAAa,SACtBX,EAAM,MAAM,KAAI,IAAO,GAAI,CAC3Bc,EAAS,QAAQ,CAAC,QAAS,yCAAyC,CAAC,EACrE,MACH,CAEDT,EAAQ,UAAY,GAEpBN,EAAaC,EAAM,MAAM,MAAM,EAC1B,KAAKe,GAAQ,CACV,GAAIA,EAAK,YAAc,EAAG,CACtBD,EAAS,MAAM,CACX,QAAS,2EACT,aAAc,yBACd,KAAM,SACN,UAAU,yBACV,MAAO,uBACP,SAAU,WACV,iBAAiB,sBAErC,CAAiB,EACDH,EAAO,MAAM,QAAU,OACvB,MACH,CAEDR,EAAcY,EAAK,KAAMV,CAAO,EAChCI,EAAS,QAAO,CAC5B,CAAS,EACA,MAAM,IAAMK,EAAS,KAAK,CAAE,QAAS,0EAA0E,CAAC,CAAC,EACjH,QAAQ,IAAM,CACXN,EAAK,MAAK,EACVG,EAAO,MAAM,QAAU,MACnC,CAAS,CACT,CAEAH,EAAK,iBAAiB,SAAUI,CAAU"}